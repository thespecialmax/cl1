$(function () {
    $("html").removeClass("no-js").addClass("js");
    if (navigator.cookieEnabled) {
        $(".supports-cookies").removeClass("d-none");
        $(".supports-no-cookies").addClass("d-none");
    }
    $('[data-toggle="tooltip"]').tooltip();
    if ("loading" in HTMLImageElement.prototype) {
        const images = document.querySelectorAll('img[loading="lazy"]');
        images.forEach((img) => {
            img.src = img.dataset.src;
        });
    } else {
        const script = document.createElement("script");
        script.src = "https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js";
        document.body.appendChild(script);
    }
    $(".product-image-gallery a").click(function (event) {
        event.preventDefault();
        handleProductImageGallery($(this));
    });
});
function handleProductImageGallery(el) {
    el.closest(".product-image-gallery").find(".active").removeClass("active").removeAttr("aria-current").find(".img-thumbnail").removeClass("border-secondary");
    el.addClass("active").attr("aria-current", "true");
    el.children(".img-thumbnail").addClass("border-secondary");
    el.closest(".product-images").find("img.product-featured-image").attr("src", el.attr("data-featured-img")).attr("alt", el.find("img").attr("alt"));
    el.closest(".product-images").find("a[data-toggle=modal]").attr("href", el.attr("data-modal-img"));
}
